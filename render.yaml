services:
  - type: web
    name: instagraph-api
    runtime: docker
    dockerfilePath: ./apps/api/Dockerfile
    dockerContext: ./apps/api
    plan: free
    region: oregon
    healthCheckPath: /health

    envVars:
      - key: OPENAI_API_KEY
        sync: false
      - key: NEO4J_URI
        sync: false
      - key: NEO4J_USERNAME
        sync: false
      - key: NEO4J_PASSWORD
        sync: false
      - key: CLERK_SECRET_KEY
        sync: false
      - key: CLERK_AUTHORIZED_PARTY
        sync: false
      - key: CLERK_FRONTEND_API
        sync: false
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_KEY
        sync: false
      - key: SENTRY_DSN
        sync: false
      - key: ENVIRONMENT
        value: production
